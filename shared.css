/* shared.css — Comic / Pokéball UI */

/* Variables */
:root{
  --bg: #e9e6e2;
  --accent: #3ee5df;    /* turquoise */
  --accent-2: #ff6b6b;  /* red */
  --yellow: #ffd24d;
  --black: #111;
  --sticker-border: 6px;
  --shadow-offset: 10px;
  --font-title: 'Bangers', cursive;
  --font-hand: 'Architects Daughter', cursive;
}

/* Dark theme overrides (applied when <body class="dark">) */
body.dark{
  --bg: #0f1113;
  --accent: #0fbfb5;
  --accent-2: #ff6b6b;
  --yellow: #d2b24a;
  --black: #eaeaea; /* use light borders/text on dark */
}

body.dark{
  background: radial-gradient(circle at 10px 10px, rgba(255,255,255,0.03) 1px, transparent 1px),
              radial-gradient(circle at 30px 30px, rgba(255,255,255,0.03) 1px, transparent 1px),
              var(--bg);
  color: var(--black);
}

/* Card backgrounds in dark mode */
.dark .pokemon-card-comic,
.dark .evo-wrapper,
.dark .evo-item,
.dark .brut-card{
  background: linear-gradient(180deg,#17191b,#0f1113);
  color: var(--black);
}

.dark .title-sticker{ color:#041617; }
.dark .nav-sticker{ background:#16181a; color:var(--black); }
.dark .center-row input{ background:#111214; color:var(--black); border-color:var(--black); }
.dark .autocomplete{ background:#111214; color:var(--black); border-color:var(--black); }
.dark .stat-bar{ background:#0b0c0d; border-color:var(--black); }
.dark .stat-fill{ background: linear-gradient(90deg, #29e3d7 0%, #10b6a9 60%); }

/* Body & pattern */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: radial-gradient(circle at 10px 10px, rgba(0,0,0,0.06) 1px, transparent 1px),
              radial-gradient(circle at 30px 30px, rgba(0,0,0,0.06) 1px, transparent 1px),
              var(--bg);
  background-size:40px 40px;
  font-family: var(--font-hand), Arial, sans-serif;
  color:var(--black);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Header */
.header{
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  gap:12px;
  margin-top:6px;
  pointer-events: none; /* stickers are decorative; nav buttons are separate */
}

/* Ensure header and controls are on top so buttons stay clickable */
.header, .title-sticker, .top-nav, .nav-sticker, .search-panel, .controls {
  position:relative;
  z-index:120;
  pointer-events:auto;
}

.title-sticker{
  font-family: var(--font-title);
  font-size:46px;
  background:var(--accent);
  padding:10px 36px;
  border: var(--sticker-border) solid var(--black);
  box-shadow: var(--shadow-offset) var(--shadow-offset) 0px rgba(0,0,0,0.9);
  transform: rotate(-1deg);
  pointer-events:auto;
  max-width:90%;
  box-sizing:border-box;
  z-index:110;
}

/* Top Nav stickers */
.top-nav{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  justify-content:center;
  max-width:92%;
}

.nav-sticker{
  pointer-events:auto;
  background:#fff;
  border: var(--sticker-border) solid var(--black);
  padding:8px 12px;
  font-weight:bold;
  cursor:pointer;
  box-shadow: var(--shadow-offset) var(--shadow-offset) 0 rgba(0,0,0,0.9);
  transition: transform .12s;
  font-family: var(--font-hand);
  font-size:14px;
  white-space:nowrap;
}
.nav-sticker:hover{ transform: translate(-4px,-4px);}

/* Main stage with centered pokéball */
.main-stage{
  display:flex;
  justify-content:center;
  align-items:flex-start;
  height:auto;
  margin-top:12px;
  padding-bottom:40px; /* leave space under pokeball so resultado sits below */
}

.pokeball-bg{
  position:relative;
  width:920px;
  height:920px;
  max-width:90vw;
  max-height:90vw;
  border-radius:50%;
  background:
    linear-gradient(180deg, #f05f5f 0 46%, #fff 46% 100%); /* top red bottom white */
  border: 14px solid var(--black);
  box-shadow: 14px 14px 0 rgba(0,0,0,0.8);
  overflow:visible;
  z-index:10;
  margin: 24px auto; /* make it participate in flow */
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* Center black stripe and button circle */
.pokeball-bg::before{
  content:"";
  position:absolute;
  left:0;
  right:0;
  top:44%;
  height:80px;
  background:var(--black);
  transform:translateY(-50%);
}
.pokeball-bg::after{
  content:"";
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:120px; height:120px;
  background:#fff;
  border-radius:50%;
  border:12px solid var(--black);
  box-shadow:8px 8px 0 rgba(0,0,0,0.7);
}

/* hide center circle while showing search results */
.pokeball-bg.hide-center::after{ display:none; }

/* Search panel sits above pokéball center */
.search-panel{
  position:relative;
  display:flex;
  align-items:center;
  gap:16px;
  width:80%;
  max-width:86%;
  justify-content:center;
  pointer-events:auto;
  z-index:200;
  margin: -36px auto 0; /* slight overlap but centered */
}

/* Select sticker */
.select-sticker select{
  appearance:none;
  -webkit-appearance:none;
  background:var(--yellow);
  border: var(--sticker-border) solid var(--black);
  padding:10px 14px;
  font-weight:bold;
  cursor:pointer;
  box-shadow: var(--shadow-offset) var(--shadow-offset) 0 rgba(0,0,0,0.9);
}

/* Input central */
.center-row input{
  width:420px;
  max-width:50vw;
  padding:16px 18px;
  border: 8px solid var(--black);
  font-size:18px;
  font-family: var(--font-hand);
  background:#fff;
  outline:none;
  box-shadow: 8px 8px 0 rgba(0,0,0,0.85);
}

/* Big red search button */
.big-button{
  background:var(--accent-2);
  color:#fff;
  border: 8px solid var(--black);
  padding:14px 28px;
  font-weight:bold;
  cursor:pointer;
  box-shadow: 8px 8px 0 rgba(0,0,0,0.9);
  transform-origin:center;
}
.big-button:active{ transform: translate(-3px,-3px) scale(.99); }

/* Resultado card */
.resultado-area{
  position:relative;
  width:70%;
  max-width:70vw;
  min-height:160px;
  pointer-events:auto;
  margin:20px auto 0;
  z-index:30;
  display:block;
}

/* When the evolution area is placed as a child of the resultado card,
   make it flow below the result instead of using absolute positioning. */
.resultado-area > .evo-area{
  position:relative;
  margin-top:12px;
  width:100%;
  display:flex;
  justify-content:center;
  gap:12px;
  pointer-events:auto;
  z-index:25;
}

/* Evolution wrapper: styled like the main card so it looks consistent */
.evo-wrapper{
  background:linear-gradient(180deg,#fff,#f8f4e8);
  padding:16px;
  border:10px solid var(--black);
  box-shadow: 10px 10px 0 rgba(0,0,0,0.9);
  width:100%;
  box-sizing:border-box;
  z-index:20;
}

/* Individual evolution item: smaller card but same visual language */
.evo-item{
  background:linear-gradient(180deg,#fff,#f8f4e8);
  border:10px solid var(--black);
  box-shadow: 8px 8px 0 rgba(0,0,0,0.9);
  padding:10px;
  flex: 0 0 calc((100% - 40px) / 3); /* three items per row, accounting for gaps */
  max-width:320px;
  height:170px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  box-sizing:border-box;
}
.evo-item img{ width:80px; height:80px; display:block; }
.evo-item .evo-name{ text-transform:uppercase; margin-top:8px; font-weight:bold; text-align:center; }
.evo-item .evo-cond{ font-size:12px; color:#333; margin-top:6px; }

/* Evo row: force horizontal layout with optional horizontal scroll */
.evo-row{
  display:flex;
  gap:20px;
  flex-wrap:nowrap;
  overflow-x:visible; /* ensure items stay visible, no horizontal scroll */
  padding:12px 6px;
  justify-content:space-between; /* spread items to fit the container */
  align-items:center; /* center arrows vertically with items */
}
.evo-row::-webkit-scrollbar{ height:10px; }
.evo-row::-webkit-scrollbar-thumb{ background:rgba(0,0,0,0.12); border-radius:6px; }

/* Arrow between evolution items */
.evo-arrow{
  width:36px;
  height:36px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#e7f7ff;
  border-radius:6px;
  border:6px solid var(--black);
  box-shadow:4px 4px 0 rgba(0,0,0,0.15);
  font-size:16px;
}

/* Pokemon comic card */
.pokemon-card-comic{
  display:flex;
  gap:18px;
  align-items:center;
  background:linear-gradient(180deg,#fff,#f8f4e8);
  padding:16px;
  border:10px solid var(--black);
  box-shadow: 10px 10px 0 rgba(0,0,0,0.9);
  font-family:var(--font-hand);
}

/* Stat bars (used in pokemon card) */
.stats{
  margin-top:12px;
}
.stat-row{
  display:flex;
  align-items:center;
  gap:12px;
  margin:8px 0;
}
.stat-label{
  width:110px;
  text-transform:uppercase;
  font-weight:bold;
  font-size:13px;
}
.stat-bar{
  flex:1;
  height:16px;
  background:#fff;
  border:6px solid var(--black);
  box-shadow:4px 4px 0 rgba(0,0,0,0.15) inset;
  position:relative;
  overflow:hidden;
}
.stat-fill{
  position:absolute;
  left:0; top:0; bottom:0;
  background: linear-gradient(90deg, var(--accent) 0%, #20d0c8 60%);
  height:100%;
}
.stat-value{
  width:48px;
  text-align:right;
  font-weight:bold;
}

/* Sprite pop animation */
.sprite-pop{
  animation: pop .35s ease both;
}
@keyframes pop{
  0%{ transform: scale(.2) translateY(20px); opacity:0; }
  70%{ transform: scale(1.08) translateY(-6px); opacity:1;}
  100%{ transform: scale(1) translateY(0); opacity:1;}
}

/* small controls area */
.controls{
  position: fixed;
  right:18px;
  bottom:18px;
  display:flex;
  gap:8px;
  align-items:center;
}
.small-button{
  border:6px solid var(--black);
  padding:8px 10px;
  background:#fff;
  box-shadow:6px 6px 0 rgba(0,0,0,0.8);
}

/* Autocomplete box */
.autocomplete{
  position:absolute;
  top:58px;
  left:50%;
  transform:translateX(-50%);
  width:420px;
  max-width:50vw;
  background: #fff;
  border: 6px solid var(--black);
  box-shadow: 8px 8px 0 rgba(0,0,0,0.9);
  display:none;
  z-index:40;
}
.autocomplete div{
  padding:8px 12px;
  border-bottom:4px solid rgba(0,0,0,0.06);
  cursor:pointer;
}
.autocomplete div:hover{ background:var(--accent); color:#000;}

/* Evolution area */
.evo-area{
  position:relative;
  width:80%;
  display:flex;
  justify-content:center;
  gap:12px;
  pointer-events:auto;
  margin:24px auto;
}

/* Responsive */
@media(max-width:760px){
  .title-sticker{ font-size:28px; padding:8px 18px;}
  .search-panel{ flex-direction:column; gap:12px; top:8%;}
  .center-row input{ width:80vw; }
  .autocomplete{ width:80vw; left:50%; transform:translateX(-50%); top:56px;}
  .pokeball-bg{ width:92vw; height:92vw;}
  .resultado-area{ width:88vw;}
}

